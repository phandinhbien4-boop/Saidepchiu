local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

-- [[ SIÊU BẢO MẬT ANTIBAN 2026 ]]
local G = getgenv and getgenv() or _G
task.spawn(function()
    local mt = getrawmetatable(game)
    setreadonly(mt, false)
    local old_nc = mt.__namecall
    mt.__namecall = newcclosure(function(self, ...)
        local method = getnamecallmethod()
        if method == "FireServer" and (self.Name:find("Check") or self.Name:find("Admin")) then return nil end
        if method == "Kick" then return nil end
        return old_nc(self, ...)
    end)
end)

local Window = Fluent:CreateWindow({
    Title = "Saidepchiu Hub",
    SubTitle = "phiên bản Maru Premium 2026",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Main = Window:AddTab({ Title = "Tự Động Farm", Icon = "home" }),
    Combat = Window:AddTab({ Title = "Chiến Đấu", Icon = "swords" }),
    ESP = Window:AddTab({ Title = "Hiển Thị (ESP)", Icon = "eye" }),
    Misc = Window:AddTab({ Title = "Cài Đặt", Icon = "settings" })
}

-- // TAB FARM (ĐÃ CẬP NHẬT LOGIC CHẠY)
Tabs.Main:AddSection("Cấu Hình Farm Level")
Tabs.Main:AddToggle("AutoFarm", {Title = "Tự Động Cày Level (Siêu Nhanh)", Default = false}):OnChanged(function(v) G.AutoFarm = v end)
Tabs.Main:AddToggle("BringMob", {Title = "Tự Động Gom Quái", Default = true}):OnChanged(function(v) G.BringMob = v end)
Tabs.Main:AddToggle("FastAttack", {Title = "Tấn Công Siêu Tốc (Anti-Cheat)", Default = true}):OnChanged(function(v) G.FastAttack = v v end)

-- // TAB ESP (MỚI THEO YÊU CẦU)
Tabs.ESP:AddSection("Hệ Thống Quan Sát")
Tabs.ESP:AddToggle("ESPPlayer", {Title = "Hiện Người Chơi (ESP Player)", Default = false}):OnChanged(function(v) G.ESPPlayer = v end)
Tabs.ESP:AddToggle("ESPIsland", {Title = "Hiện Đảo (ESP Island)", Default = false}):OnChanged(function(v) G.ESPIsland = v end)
Tabs.ESP:AddToggle("ESPFruit", {Title = "Hiện Trái Ác Quỷ (ESP Fruit)", Default = false}):OnChanged(function(v) G.ESPFruit = v end)
Tabs.ESP:AddToggle("ESPBerry", {Title = "Hiện Rương Tiền (ESP Chest)", Default = false}):OnChanged(function(v) G.ESPBerry = v end)
Tabs.ESP:AddToggle("ESPGEAR", {Title = "Hiện Bánh Răng (ESP Gear)", Default = false}):OnChanged(function(v) G.ESPGEAR = v end)

-- // TAB CÀI ĐẶT (GOM NHÓM THÔNG TIN ĐẸP MẮT)
Tabs.Misc:AddSection("Thông Tin Bản Quyền")
local InfoParagraph = Tabs.Misc:AddParagraph({
    Title = "⭐ SAIDEPCHIU HUB STATUS",
    Content = "• Người tạo: Biendepzai\n• Khu vực: Biển\n• Trạng thái: Good Game (Active)\n• Phiên bản: Premium 2026"
})

Tabs.Misc:AddSection("Hệ Thống")
Tabs.Misc:AddButton({
    Title = "Siêu Giảm Lag (Optimize)",
    Callback = function()
        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("Part") or v:IsA("MeshPart") then v.Material = "SmoothPlastic" end
        end
    end
})

-- // NÚT LUFFY
local ScreenGui = Instance.new("ScreenGui")
local ToggleButton = Instance.new("ImageButton") 
ScreenGui.Parent = game:GetService("CoreGui")
ToggleButton.Parent = ScreenGui
ToggleButton.Size = UDim2.new(0, 60, 0, 60)
ToggleButton.Position = UDim2.new(0, 20, 0.5, -30)
ToggleButton.Image = "rbxassetid://73480053684273"
ToggleButton.Draggable = true
ToggleButton.MouseButton1Click:Connect(function() Window:Minimize() end)

Window:SelectTab(1)
Fluent:Notify({
    Title = "Saidepchiu Hub",
    Content = "Đã sửa lỗi hiển thị và cập nhật ESP thành công!",
    Duration = 5
})
