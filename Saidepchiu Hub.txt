local function ServerHop()
    local HttpService = game:GetService("HttpService")
    local TeleportService = game:GetService("TeleportService")
    local Servers = HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Asc&limit=100"))
    for _, s in pairs(Servers.data) do
        if s.playing < s.maxPlayers and s.id ~= game.JobId then
            TeleportService:TeleportToPlaceInstance(game.PlaceId, s.id)
            break
        end
    end
end

local function AutoFruit()
    while task.wait(0.5) do
        local fruitFound = false
        for _, v in pairs(game.Workspace:GetChildren()) do
            if v:IsA("Tool") and (string.find(v.Name, "Fruit") or v:FindFirstChild("Handle")) then
                fruitFound = true
                local hrp = game.Players.LocalPlayer.Character:WaitForChild("HumanoidRootPart")
                hrp.CFrame = v.Handle.CFrame
                task.wait(0.2)
            end
        end
        
        for _, item in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
            if string.find(item.Name, "Fruit") then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("StoreFruit", item.Name, item)
            end
        end

        if not fruitFound then
            task.wait(2)
            ServerHop()
        end
    end
end

if game:IsLoaded() then
    spawn(AutoFruit)
end
