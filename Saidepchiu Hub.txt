local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local Window = Fluent:CreateWindow({
    Title = "Bảo Bối Hub",
    SubTitle = "Blox Fruits 2026",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl
})

local Tabs = {
    Main = Window:AddTab({ Title = "Auto Farm", Icon = "rbxassetid://73480053684273" })
}

_G.AutoFarm = false
_G.FastAttack = true

local function JoinTeam()
    pcall(function()
        if game.Players.LocalPlayer.Team == nil then
            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetTeam", "Marine")
        end
    end)
end

local function Tween(Target)
    local Character = game.Players.LocalPlayer.Character
    if not Character or not Character:FindFirstChild("HumanoidRootPart") then return end
    local RootPart = Character.HumanoidRootPart
    local Distance = (RootPart.Position - Target.p).Magnitude
    local Speed = 300
    game:GetService("TweenService"):Create(RootPart, TweenInfo.new(Distance/Speed, Enum.EasingStyle.Linear), {CFrame = Target}):Play()
end

local function Attack()
    game:GetService("VirtualUser"):CaptureController()
    game:GetService("VirtualUser"):Button1Down(Vector2.new(1280, 672))
end

Tabs.Main:AddToggle("AutoFarmToggle", {
    Title = "Auto Farm Level",
    Default = false,
    Callback = function(Value)
        _G.AutoFarm = Value
    end
})

spawn(function()
    JoinTeam()
    while true do
        task.wait(0.1)
        if _G.AutoFarm then
            pcall(function()
                local Enemies = game.Workspace.Enemies:GetChildren()
                for _, v in pairs(Enemies) do
                    if v:FindFirstChild("Humanoid") and v.Humanoid.Health > 0 then
                        repeat
                            task.wait()
                            -- Khoảng cách (0, 10, 0) để quái không đánh trúng
                            Tween(v.HumanoidRootPart.CFrame * CFrame.new(0, 10, 0))
                            if _G.FastAttack then Attack() end
                        until not v.Parent or v.Humanoid.Health <= 0 or not _G.AutoFarm
                    end
                end
            end)
        end
    end
end)

Window:SelectTab(1)
